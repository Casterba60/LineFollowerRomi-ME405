\doxysection{statemachine.\+statemachine Class Reference}
\hypertarget{classstatemachine_1_1statemachine}{}\label{classstatemachine_1_1statemachine}\index{statemachine.statemachine@{statemachine.statemachine}}


Finite State Machine for handling of Romi\textquotesingle{}s states.  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classstatemachine_1_1statemachine_a606cdc40e53897d94886e17dea5f1c63}\label{classstatemachine_1_1statemachine_a606cdc40e53897d94886e17dea5f1c63} 
{\bfseries \+\_\+\+\_\+init\+\_\+\+\_\+} (self, left\+\_\+controller, right\+\_\+controller, IMU, button\+Status, line\+Array, obstacle\+Detection)
\item 
\mbox{\hyperlink{classstatemachine_1_1statemachine_a45d78efda7d96faf21e5f2cce2d189ea}{FSM}} (self)
\item 
\mbox{\hyperlink{classstatemachine_1_1statemachine_a65dd7cae703e05833182adb55410c6a2}{heading\+Control}} (self, desired\+Heading, velocity, gain=1/15)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classstatemachine_1_1statemachine_abb11b969a4d143ea6e1d86f40858675b}\label{classstatemachine_1_1statemachine_abb11b969a4d143ea6e1d86f40858675b} 
bool {\bfseries debug} = False
\item 
\Hypertarget{classstatemachine_1_1statemachine_acb5ffb88006c8251f6166a42ab0662db}\label{classstatemachine_1_1statemachine_acb5ffb88006c8251f6166a42ab0662db} 
{\bfseries left\+\_\+controller} = left\+\_\+controller
\item 
\Hypertarget{classstatemachine_1_1statemachine_a87727f1f235a30250af53bc20c7cb729}\label{classstatemachine_1_1statemachine_a87727f1f235a30250af53bc20c7cb729} 
{\bfseries right\+\_\+controller} = right\+\_\+controller
\item 
\Hypertarget{classstatemachine_1_1statemachine_a2476c085a47215139d6937f6c82ac6bd}\label{classstatemachine_1_1statemachine_a2476c085a47215139d6937f6c82ac6bd} 
{\bfseries imu} = IMU
\item 
\Hypertarget{classstatemachine_1_1statemachine_aecdfdc9a7d947180d934f3f3fc0d6ddd}\label{classstatemachine_1_1statemachine_aecdfdc9a7d947180d934f3f3fc0d6ddd} 
{\bfseries button\+Status} = button\+Status
\item 
\Hypertarget{classstatemachine_1_1statemachine_a8d5fb00ee4276ea467c4d05a54648377}\label{classstatemachine_1_1statemachine_a8d5fb00ee4276ea467c4d05a54648377} 
{\bfseries line\+Array} = line\+Array
\item 
\Hypertarget{classstatemachine_1_1statemachine_ad75d2118bca6de2555032c435b4bd048}\label{classstatemachine_1_1statemachine_ad75d2118bca6de2555032c435b4bd048} 
{\bfseries obstacle\+Detection} = obstacle\+Detection
\item 
\Hypertarget{classstatemachine_1_1statemachine_a278c314acb20da466b84b38219748143}\label{classstatemachine_1_1statemachine_a278c314acb20da466b84b38219748143} 
int {\bfseries gain} = -\/15
\item 
\Hypertarget{classstatemachine_1_1statemachine_a8ab7a8706eba197f04cf473388a51c26}\label{classstatemachine_1_1statemachine_a8ab7a8706eba197f04cf473388a51c26} 
int {\bfseries global\+\_\+x} = 0
\item 
\Hypertarget{classstatemachine_1_1statemachine_a0ca4b19a63db665b8c545972f303835a}\label{classstatemachine_1_1statemachine_a0ca4b19a63db665b8c545972f303835a} 
int {\bfseries global\+\_\+y} = 0
\item 
\Hypertarget{classstatemachine_1_1statemachine_a004ba6f1272e9159b42aa49d55c4d555}\label{classstatemachine_1_1statemachine_a004ba6f1272e9159b42aa49d55c4d555} 
{\bfseries starting\+\_\+\+Heading} = self.\+imu.\+get\+\_\+heading()
\item 
\Hypertarget{classstatemachine_1_1statemachine_af97f0b1ed387daa9326bab21c177994f}\label{classstatemachine_1_1statemachine_af97f0b1ed387daa9326bab21c177994f} 
{\bfseries previous\+Heading} = self.\+starting\+\_\+\+Heading
\item 
\Hypertarget{classstatemachine_1_1statemachine_a03796cf8459a74d8f78a2f4b332bdcd0}\label{classstatemachine_1_1statemachine_a03796cf8459a74d8f78a2f4b332bdcd0} 
int {\bfseries total\+Heading\+Change} = 0
\item 
\Hypertarget{classstatemachine_1_1statemachine_ab30f07fadee37419a62e0c9c55d83b6e}\label{classstatemachine_1_1statemachine_ab30f07fadee37419a62e0c9c55d83b6e} 
{\bfseries current\+Heading} = self.\+imu.\+get\+\_\+heading()
\item 
\Hypertarget{classstatemachine_1_1statemachine_a7ba41ac17ad5ca74e2db4e389e9d83dd}\label{classstatemachine_1_1statemachine_a7ba41ac17ad5ca74e2db4e389e9d83dd} 
{\bfseries delta\+Heading} = self.\+current\+Heading-\/self.\+previous\+Heading
\item 
\Hypertarget{classstatemachine_1_1statemachine_af97f0b1ed387daa9326bab21c177994f}\label{classstatemachine_1_1statemachine_af97f0b1ed387daa9326bab21c177994f} 
int {\bfseries previous\+Heading} = 360
\item 
\Hypertarget{classstatemachine_1_1statemachine_a7b6fe304d4c1a8bc40e8a32a465eb70a}\label{classstatemachine_1_1statemachine_a7b6fe304d4c1a8bc40e8a32a465eb70a} 
{\bfseries previous\+Position} = self.\+left\+\_\+controller.\+get\+Encoder\+Pos()
\item 
\Hypertarget{classstatemachine_1_1statemachine_a364517aebbd5f531e54e84886ff38b9f}\label{classstatemachine_1_1statemachine_a364517aebbd5f531e54e84886ff38b9f} 
int {\bfseries total\+Pos\+Change} = 0
\item 
\Hypertarget{classstatemachine_1_1statemachine_aad7a046089869d63c55b47a34f5ab1ae}\label{classstatemachine_1_1statemachine_aad7a046089869d63c55b47a34f5ab1ae} 
{\bfseries straight\+Heading} = self.\+imu.\+get\+\_\+heading()
\item 
\Hypertarget{classstatemachine_1_1statemachine_ae8294eae14011704fd1bc42e943d3916}\label{classstatemachine_1_1statemachine_ae8294eae14011704fd1bc42e943d3916} 
{\bfseries current\+Position} = self.\+left\+\_\+controller.\+get\+Encoder\+Pos()
\item 
\Hypertarget{classstatemachine_1_1statemachine_a08422b92b1f632e459b727cd3ecd784f}\label{classstatemachine_1_1statemachine_a08422b92b1f632e459b727cd3ecd784f} 
{\bfseries delta\+Position} = self.\+current\+Position-\/self.\+previous\+Position
\item 
\Hypertarget{classstatemachine_1_1statemachine_a7b6fe304d4c1a8bc40e8a32a465eb70a}\label{classstatemachine_1_1statemachine_a7b6fe304d4c1a8bc40e8a32a465eb70a} 
int {\bfseries previous\+Position} = 65536
\item 
\Hypertarget{classstatemachine_1_1statemachine_aad7a046089869d63c55b47a34f5ab1ae}\label{classstatemachine_1_1statemachine_aad7a046089869d63c55b47a34f5ab1ae} 
int {\bfseries straight\+Heading} = 4
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Finite State Machine for handling of Romi\textquotesingle{}s states. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classstatemachine_1_1statemachine_a45d78efda7d96faf21e5f2cce2d189ea}\index{statemachine.statemachine@{statemachine.statemachine}!FSM@{FSM}}
\index{FSM@{FSM}!statemachine.statemachine@{statemachine.statemachine}}
\doxysubsubsection{\texorpdfstring{FSM()}{FSM()}}
{\footnotesize\ttfamily \label{classstatemachine_1_1statemachine_a45d78efda7d96faf21e5f2cce2d189ea} 
statemachine.\+statemachine.\+FSM (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}

\begin{DoxyVerb} Finite State Machine Generator Task:
    State 1: Initialization 
    State 2: Idle - Wait for button push
    State 3: Line Following
    State 4: Obstacle Avoidance
    State 5: Return to Base\end{DoxyVerb}
 \Hypertarget{classstatemachine_1_1statemachine_a65dd7cae703e05833182adb55410c6a2}\index{statemachine.statemachine@{statemachine.statemachine}!headingControl@{headingControl}}
\index{headingControl@{headingControl}!statemachine.statemachine@{statemachine.statemachine}}
\doxysubsubsection{\texorpdfstring{headingControl()}{headingControl()}}
{\footnotesize\ttfamily \label{classstatemachine_1_1statemachine_a65dd7cae703e05833182adb55410c6a2} 
statemachine.\+statemachine.\+heading\+Control (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{desired\+Heading}{, }\item[{}]{velocity}{, }\item[{}]{gain}{ = {\ttfamily 1/15}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Drive motor speeds to maintain heading and correct for error (Proportional Control)
@param desiredHeading the heading to maintain/drive to
@param velocity linear velocity to maintain while correcting heading
@param gain the gain from heading error to rotation speed
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{statemachine_8py}{statemachine.\+py}}\end{DoxyCompactItemize}
