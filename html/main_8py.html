<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Line Follower Robot - ME405: main.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Line Follower Robot - ME405
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('main_8py.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file is the main file, containing all needed dependencies, initializing all required objects as well as the scheduler.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a90c7bc76a173f0b5476c8ad8f9665233" id="r_a90c7bc76a173f0b5476c8ad8f9665233"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90c7bc76a173f0b5476c8ad8f9665233">main.test_imu</a> (imu)</td></tr>
<tr class="separator:a90c7bc76a173f0b5476c8ad8f9665233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76ab471df3ab6d4cf52cdc6aec9fbe5" id="r_af76ab471df3ab6d4cf52cdc6aec9fbe5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af76ab471df3ab6d4cf52cdc6aec9fbe5">main.read_imu_cal</a> (imu)</td></tr>
<tr class="separator:af76ab471df3ab6d4cf52cdc6aec9fbe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46735b6408c506da01cab56beab979ad" id="r_a46735b6408c506da01cab56beab979ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46735b6408c506da01cab56beab979ad">main.write_imu_cal</a> (imu)</td></tr>
<tr class="separator:a46735b6408c506da01cab56beab979ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acece19c441e9d6e31a1fcbfd891cfce0" id="r_acece19c441e9d6e31a1fcbfd891cfce0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acece19c441e9d6e31a1fcbfd891cfce0">main.updateButton</a> (pin)</td></tr>
<tr class="separator:acece19c441e9d6e31a1fcbfd891cfce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab948dea3d8c200ff9ddd63a1d7ebeb88" id="r_ab948dea3d8c200ff9ddd63a1d7ebeb88"><td class="memItemLeft" align="right" valign="top"><a id="ab948dea3d8c200ff9ddd63a1d7ebeb88" name="ab948dea3d8c200ff9ddd63a1d7ebeb88"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main.ENCPERIOD</b> = 20</td></tr>
<tr class="separator:ab948dea3d8c200ff9ddd63a1d7ebeb88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a502febe20517cbbae400f644b48b7" id="r_a47a502febe20517cbbae400f644b48b7"><td class="memItemLeft" align="right" valign="top"><a id="a47a502febe20517cbbae400f644b48b7" name="a47a502febe20517cbbae400f644b48b7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main.CONTPERIOD</b> = 20</td></tr>
<tr class="separator:a47a502febe20517cbbae400f644b48b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed77d7373f6fbe59f718fb88f72346bf" id="r_aed77d7373f6fbe59f718fb88f72346bf"><td class="memItemLeft" align="right" valign="top"><a id="aed77d7373f6fbe59f718fb88f72346bf" name="aed77d7373f6fbe59f718fb88f72346bf"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main.FSMPERIOD</b> = 40</td></tr>
<tr class="separator:aed77d7373f6fbe59f718fb88f72346bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cb8fb20a56d8bcf10ac0ec01b14429" id="r_a34cb8fb20a56d8bcf10ac0ec01b14429"><td class="memItemLeft" align="right" valign="top"><a id="a34cb8fb20a56d8bcf10ac0ec01b14429" name="a34cb8fb20a56d8bcf10ac0ec01b14429"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.buttonStatus</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a>(&quot;H&quot;,name=&quot;button status&quot;,thread_protect = True)</td></tr>
<tr class="separator:a34cb8fb20a56d8bcf10ac0ec01b14429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9675d74d39c7a9e074fe396b3bc463" id="r_a6f9675d74d39c7a9e074fe396b3bc463"><td class="memItemLeft" align="right" valign="top"><a id="a6f9675d74d39c7a9e074fe396b3bc463" name="a6f9675d74d39c7a9e074fe396b3bc463"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.initialHeading</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a>(&quot;H&quot;,name=&quot;initial heading&quot;,thread_protect = True)</td></tr>
<tr class="separator:a6f9675d74d39c7a9e074fe396b3bc463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10d42ca57c36c11ce028823429642f7" id="r_ad10d42ca57c36c11ce028823429642f7"><td class="memItemLeft" align="right" valign="top"><a id="ad10d42ca57c36c11ce028823429642f7" name="ad10d42ca57c36c11ce028823429642f7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.currentHeading</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a>(&quot;H&quot;,name=&quot;current heading&quot;,thread_protect=True)</td></tr>
<tr class="separator:ad10d42ca57c36c11ce028823429642f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce17a26cd1a1b5eaf169f86ade27a07" id="r_a1ce17a26cd1a1b5eaf169f86ade27a07"><td class="memItemLeft" align="right" valign="top"><a id="a1ce17a26cd1a1b5eaf169f86ade27a07" name="a1ce17a26cd1a1b5eaf169f86ade27a07"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.tim_3</b> = pyb.Timer(3, freq = 20_000)</td></tr>
<tr class="separator:a1ce17a26cd1a1b5eaf169f86ade27a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e60ac322d61f08b354ecd7647a7a0c" id="r_a19e60ac322d61f08b354ecd7647a7a0c"><td class="memItemLeft" align="right" valign="top"><a id="a19e60ac322d61f08b354ecd7647a7a0c" name="a19e60ac322d61f08b354ecd7647a7a0c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.tim_4</b> = pyb.Timer(4, freq = 20_000)</td></tr>
<tr class="separator:a19e60ac322d61f08b354ecd7647a7a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886a5cae2df285e13c71b6bc322c59a8" id="r_a886a5cae2df285e13c71b6bc322c59a8"><td class="memItemLeft" align="right" valign="top"><a id="a886a5cae2df285e13c71b6bc322c59a8" name="a886a5cae2df285e13c71b6bc322c59a8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.right_Motor</b> = <a class="el" href="class_romi__motor_1_1_romi__motor.html">Romi_motor</a>(pyb.Pin.cpu.C0, pyb.Pin.cpu.A4, pyb.Pin.cpu.B0, tim_3, 3)</td></tr>
<tr class="separator:a886a5cae2df285e13c71b6bc322c59a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e4d74a36f2ce2da14a17a508d33717" id="r_ab8e4d74a36f2ce2da14a17a508d33717"><td class="memItemLeft" align="right" valign="top"><a id="ab8e4d74a36f2ce2da14a17a508d33717" name="ab8e4d74a36f2ce2da14a17a508d33717"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.left_Motor</b> = <a class="el" href="class_romi__motor_1_1_romi__motor.html">Romi_motor</a>(pyb.Pin.cpu.B5, pyb.Pin.cpu.B3, pyb.Pin.cpu.B6, tim_4, 1)</td></tr>
<tr class="separator:ab8e4d74a36f2ce2da14a17a508d33717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a454f66f75a1eb7a216aa2340a848d" id="r_aa2a454f66f75a1eb7a216aa2340a848d"><td class="memItemLeft" align="right" valign="top"><a id="aa2a454f66f75a1eb7a216aa2340a848d" name="aa2a454f66f75a1eb7a216aa2340a848d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.tim_1</b> = pyb.Timer(1,period=65535,prescaler=0)</td></tr>
<tr class="separator:aa2a454f66f75a1eb7a216aa2340a848d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d4e74cbd4e913d2feb25f9a180dd27" id="r_a68d4e74cbd4e913d2feb25f9a180dd27"><td class="memItemLeft" align="right" valign="top"><a id="a68d4e74cbd4e913d2feb25f9a180dd27" name="a68d4e74cbd4e913d2feb25f9a180dd27"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.tim_2</b> = pyb.Timer(2,period=65535,prescaler=0)</td></tr>
<tr class="separator:a68d4e74cbd4e913d2feb25f9a180dd27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add228ed325d7b00387bf905aeb46c853" id="r_add228ed325d7b00387bf905aeb46c853"><td class="memItemLeft" align="right" valign="top"><a id="add228ed325d7b00387bf905aeb46c853" name="add228ed325d7b00387bf905aeb46c853"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.left_Encoder</b> = <a class="el" href="classencoder_1_1_encoder.html">Encoder</a>(pyb.Pin.cpu.A8, pyb.Pin.cpu.A9, tim_1)</td></tr>
<tr class="separator:add228ed325d7b00387bf905aeb46c853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c8c310848308d08de2cba7c92a0de0" id="r_a82c8c310848308d08de2cba7c92a0de0"><td class="memItemLeft" align="right" valign="top"><a id="a82c8c310848308d08de2cba7c92a0de0" name="a82c8c310848308d08de2cba7c92a0de0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.right_Encoder</b> = <a class="el" href="classencoder_1_1_encoder.html">Encoder</a>(pyb.Pin.cpu.A0, pyb.Pin.cpu.A1,tim_2)</td></tr>
<tr class="separator:a82c8c310848308d08de2cba7c92a0de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce2f9aee022071ba6f30b2136743a0b" id="r_a4ce2f9aee022071ba6f30b2136743a0b"><td class="memItemLeft" align="right" valign="top"><a id="a4ce2f9aee022071ba6f30b2136743a0b" name="a4ce2f9aee022071ba6f30b2136743a0b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.left_Controller</b> = <a class="el" href="classcontroller_1_1controller.html">controller</a>(left_Motor,left_Encoder,ENCPERIOD)</td></tr>
<tr class="separator:a4ce2f9aee022071ba6f30b2136743a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e1522169ba2e93c4c56690a63b623c" id="r_a47e1522169ba2e93c4c56690a63b623c"><td class="memItemLeft" align="right" valign="top"><a id="a47e1522169ba2e93c4c56690a63b623c" name="a47e1522169ba2e93c4c56690a63b623c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.right_Controller</b> = <a class="el" href="classcontroller_1_1controller.html">controller</a>(right_Motor,right_Encoder,ENCPERIOD)</td></tr>
<tr class="separator:a47e1522169ba2e93c4c56690a63b623c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c02841f8abf9bd4c95b6f38ce36862" id="r_a59c02841f8abf9bd4c95b6f38ce36862"><td class="memItemLeft" align="right" valign="top"><a id="a59c02841f8abf9bd4c95b6f38ce36862" name="a59c02841f8abf9bd4c95b6f38ce36862"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.button</b> = pyb.ExtInt(pyb.Pin.cpu.C13, pyb.ExtInt.IRQ_FALLING, pyb.Pin.PULL_NONE, <a class="el" href="#acece19c441e9d6e31a1fcbfd891cfce0">updateButton</a>)</td></tr>
<tr class="separator:a59c02841f8abf9bd4c95b6f38ce36862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cb237b2a6a518bd115da5e4158ee68" id="r_a38cb237b2a6a518bd115da5e4158ee68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38cb237b2a6a518bd115da5e4158ee68">main.lineArray</a></td></tr>
<tr class="separator:a38cb237b2a6a518bd115da5e4158ee68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72341977ddcdbcf406326ae2365cecb7" id="r_a72341977ddcdbcf406326ae2365cecb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72341977ddcdbcf406326ae2365cecb7">main.obstacleDetector</a></td></tr>
<tr class="separator:a72341977ddcdbcf406326ae2365cecb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5befc0053c42646c427bcb520d8ee3c1" id="r_a5befc0053c42646c427bcb520d8ee3c1"><td class="memItemLeft" align="right" valign="top"><a id="a5befc0053c42646c427bcb520d8ee3c1" name="a5befc0053c42646c427bcb520d8ee3c1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main.i2c_bus</b> = 1</td></tr>
<tr class="separator:a5befc0053c42646c427bcb520d8ee3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae701983592736ef095bf138d981fc12a" id="r_ae701983592736ef095bf138d981fc12a"><td class="memItemLeft" align="right" valign="top"><a id="ae701983592736ef095bf138d981fc12a" name="ae701983592736ef095bf138d981fc12a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.imu</b> = <a class="el" href="class_b_n_o055_1_1_b_n_o055.html">BNO055</a>(i2c_bus)</td></tr>
<tr class="separator:ae701983592736ef095bf138d981fc12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97347d38c806a00d37688b1409de8a9" id="r_aa97347d38c806a00d37688b1409de8a9"><td class="memItemLeft" align="right" valign="top"><a id="aa97347d38c806a00d37688b1409de8a9" name="aa97347d38c806a00d37688b1409de8a9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.romi_obj</b> = <a class="el" href="classstatemachine_1_1statemachine.html">statemachine</a>(left_Controller,right_Controller,imu,buttonStatus,lineArray,obstacleDetector)</td></tr>
<tr class="separator:aa97347d38c806a00d37688b1409de8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f1be77fbf2199133daabd4d06b16b9" id="r_a37f1be77fbf2199133daabd4d06b16b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37f1be77fbf2199133daabd4d06b16b9">main.UpdateLeftEncoderTask</a></td></tr>
<tr class="separator:a37f1be77fbf2199133daabd4d06b16b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944cc8fdb7ad9434d034344e63d055f1" id="r_a944cc8fdb7ad9434d034344e63d055f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a944cc8fdb7ad9434d034344e63d055f1">main.UpdateRightEncoderTask</a></td></tr>
<tr class="separator:a944cc8fdb7ad9434d034344e63d055f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52c2875258a275d91199f6eb7e7a762" id="r_aa52c2875258a275d91199f6eb7e7a762"><td class="memItemLeft" align="right" valign="top"><a id="aa52c2875258a275d91199f6eb7e7a762" name="aa52c2875258a275d91199f6eb7e7a762"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.RightMotorController</b> = <a class="el" href="classcotask_1_1_task.html">cotask.Task</a>(right_Controller.run,name=&quot;Right Controller&quot;, priority=1, period=CONTPERIOD,profile=True,trace=True)</td></tr>
<tr class="separator:aa52c2875258a275d91199f6eb7e7a762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114d7277e45f77b42b08a441fb9d78bd" id="r_a114d7277e45f77b42b08a441fb9d78bd"><td class="memItemLeft" align="right" valign="top"><a id="a114d7277e45f77b42b08a441fb9d78bd" name="a114d7277e45f77b42b08a441fb9d78bd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.LeftMotorController</b> = <a class="el" href="classcotask_1_1_task.html">cotask.Task</a>(left_Controller.run,name=&quot;Left Controller&quot;, priority=1, period=CONTPERIOD,profile=True,trace=True)</td></tr>
<tr class="separator:a114d7277e45f77b42b08a441fb9d78bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5823a4a9bb4505e25296423fc1752a11" id="r_a5823a4a9bb4505e25296423fc1752a11"><td class="memItemLeft" align="right" valign="top"><a id="a5823a4a9bb4505e25296423fc1752a11" name="a5823a4a9bb4505e25296423fc1752a11"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.FSM</b> = <a class="el" href="classcotask_1_1_task.html">cotask.Task</a>(romi_obj.FSM,name=&quot;FSM control&quot;,priority=0,period=FSMPERIOD,profile=True,trace=False)</td></tr>
<tr class="separator:a5823a4a9bb4505e25296423fc1752a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file is the main file, containing all needed dependencies, initializing all required objects as well as the scheduler. </p>
<p>This program is built on the micropython library. All required Romi objects, which include: 2 motors, 2 encoders, 2 motor controllers, 1 IR sensor array containing 8 IR sensors, a 6 sensor bump sensor array, and 1 IMU are instantiated in this file. The details of each of these objects is detailed in their respective files These objects are all intregated into a set of tasks which run on the scheduler. These tasks are: The overacrching Finite State Machine, updating the encoder positions, and running the individual motor controllers</p>
<dl class="section author"><dt>Author</dt><dd>Cole Sterba, Devon Bolt </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-Nov-25 Approximate date of creation of file </dd>
<dd>
2024-Dec-12 Final tuning completed </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is copyright (c) 2024 by C Sterba and D Bolt and released under the GNU Public License, version 3.0.</dd></dl>
<p>It is intended for educational use only, but its use is not limited thereto. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af76ab471df3ab6d4cf52cdc6aec9fbe5" name="af76ab471df3ab6d4cf52cdc6aec9fbe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76ab471df3ab6d4cf52cdc6aec9fbe5">&#9670;&#160;</a></span>read_imu_cal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.read_imu_cal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>imu</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Read IMU calibration data from the sensor and write to a .txt file
@param imu IMU object to interact with</pre> 
</div>
</div>
<a id="a90c7bc76a173f0b5476c8ad8f9665233" name="a90c7bc76a173f0b5476c8ad8f9665233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c7bc76a173f0b5476c8ad8f9665233">&#9670;&#160;</a></span>test_imu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.test_imu </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>imu</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to test output of IMU, unused in final sprogram
@param imu IMU object to interact with</pre> 
</div>
</div>
<a id="acece19c441e9d6e31a1fcbfd891cfce0" name="acece19c441e9d6e31a1fcbfd891cfce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acece19c441e9d6e31a1fcbfd891cfce0">&#9670;&#160;</a></span>updateButton()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.updateButton </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">read onboard button status and update share
@param pin Nucleo button pin, an ISR is tied to this pin to handle it updating</pre> 
</div>
</div>
<a id="a46735b6408c506da01cab56beab979ad" name="a46735b6408c506da01cab56beab979ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46735b6408c506da01cab56beab979ad">&#9670;&#160;</a></span>write_imu_cal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.write_imu_cal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>imu</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write IMU calibration data from a .txt file to the sensor
@param imu IMU object to interact with</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a38cb237b2a6a518bd115da5e4158ee68" name="a38cb237b2a6a518bd115da5e4158ee68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38cb237b2a6a518bd115da5e4158ee68">&#9670;&#160;</a></span>lineArray</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.lineArray</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  LineSensorArray(pyb.Pin.cpu.A15, </div>
<div class="line"><span class="lineno">    2</span>                                pyb.Pin.cpu.B2, </div>
<div class="line"><span class="lineno">    3</span>                                [pyb.Pin.cpu.C12, </div>
<div class="line"><span class="lineno">    4</span>                                 pyb.Pin.cpu.D2, </div>
<div class="line"><span class="lineno">    5</span>                                 pyb.Pin.cpu.C10,  </div>
<div class="line"><span class="lineno">    6</span>                                 pyb.Pin.cpu.C11, </div>
<div class="line"><span class="lineno">    7</span>                                 pyb.Pin.cpu.B13, </div>
<div class="line"><span class="lineno">    8</span>                                 pyb.Pin.cpu.B14, </div>
<div class="line"><span class="lineno">    9</span>                                 pyb.Pin.cpu.B15, </div>
<div class="line"><span class="lineno">   10</span>                                 pyb.Pin.cpu.B1])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a72341977ddcdbcf406326ae2365cecb7" name="a72341977ddcdbcf406326ae2365cecb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72341977ddcdbcf406326ae2365cecb7">&#9670;&#160;</a></span>obstacleDetector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.obstacleDetector</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  ObstacleDetection([pyb.Pin.cpu.A5,  pyb.Pin.cpu.A6,  pyb.Pin.cpu.A7, </div>
<div class="line"><span class="lineno">    2</span>                                          pyb.Pin.cpu.C5, pyb.Pin.cpu.B11, pyb.Pin.cpu.B12])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a37f1be77fbf2199133daabd4d06b16b9" name="a37f1be77fbf2199133daabd4d06b16b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f1be77fbf2199133daabd4d06b16b9">&#9670;&#160;</a></span>UpdateLeftEncoderTask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.UpdateLeftEncoderTask</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <a class="code hl_class" href="classcotask_1_1_task.html">cotask.Task</a>(left_Encoder.update,name=<span class="stringliteral">&quot;Update Left Encoder&quot;</span>, priority=1, period=ENCPERIOD,</div>
<div class="line"><span class="lineno">    2</span>                        profile=<span class="keyword">True</span>, trace=<span class="keyword">False</span>)</div>
<div class="ttc" id="aclasscotask_1_1_task_html"><div class="ttname"><a href="classcotask_1_1_task.html">cotask.Task</a></div><div class="ttdoc">Implements multitasking with scheduling and some performance logging.</div><div class="ttdef"><b>Definition</b> cotask.py:66</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a944cc8fdb7ad9434d034344e63d055f1" name="a944cc8fdb7ad9434d034344e63d055f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944cc8fdb7ad9434d034344e63d055f1">&#9670;&#160;</a></span>UpdateRightEncoderTask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.UpdateRightEncoderTask</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <a class="code hl_class" href="classcotask_1_1_task.html">cotask.Task</a>(right_Encoder.update,name=<span class="stringliteral">&quot;Update Right Encoder&quot;</span>, priority=1, period=ENCPERIOD,</div>
<div class="line"><span class="lineno">    2</span>                        profile=<span class="keyword">True</span>, trace=<span class="keyword">False</span>)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="main_8py.html">main.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
