<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME405 Final Project: LineSensorArray Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME405 Final Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_line_sensor_1_1_line_sensor_array.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">LineSensorArray Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a384b4d6227abec6ba9051d4f7eccd9b4" id="r_a384b4d6227abec6ba9051d4f7eccd9b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a384b4d6227abec6ba9051d4f7eccd9b4">__init__</a> (self, Even_pin, Odd_pin, Pin_list)</td></tr>
<tr class="memdesc:a384b4d6227abec6ba9051d4f7eccd9b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="class_line_sensor_1_1_line_sensor_array.html">LineSensorArray</a> object by setting up an array of line sensor object.  <br /></td></tr>
<tr class="separator:a384b4d6227abec6ba9051d4f7eccd9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f637a1988d9d38558869a5920d5d824" id="r_a9f637a1988d9d38558869a5920d5d824"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f637a1988d9d38558869a5920d5d824">get_line_position</a> (self)</td></tr>
<tr class="separator:a9f637a1988d9d38558869a5920d5d824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0565eecb5e431630081a6ed0f440abc" id="r_ad0565eecb5e431630081a6ed0f440abc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0565eecb5e431630081a6ed0f440abc">update_line_position</a> (self)</td></tr>
<tr class="separator:ad0565eecb5e431630081a6ed0f440abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d63e49b7e1d2b568412e48acaf5715" id="r_a63d63e49b7e1d2b568412e48acaf5715"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63d63e49b7e1d2b568412e48acaf5715">threshold_linear</a> (self, sensor_reading, sensor)</td></tr>
<tr class="separator:a63d63e49b7e1d2b568412e48acaf5715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea18af444930d78a1d4855accab74926" id="r_aea18af444930d78a1d4855accab74926"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea18af444930d78a1d4855accab74926">third_order</a> (self, x, a, b, c, d)</td></tr>
<tr class="separator:aea18af444930d78a1d4855accab74926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9384d4a6c42439b76f2aceb6a6ce01" id="r_aac9384d4a6c42439b76f2aceb6a6ce01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac9384d4a6c42439b76f2aceb6a6ce01">linearize</a> (self, value, sensor)</td></tr>
<tr class="separator:aac9384d4a6c42439b76f2aceb6a6ce01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad54792d41f5676ee4038be95d0482e5d" id="r_ad54792d41f5676ee4038be95d0482e5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad54792d41f5676ee4038be95d0482e5d">threshold</a> (self, linear_reading)</td></tr>
<tr class="separator:ad54792d41f5676ee4038be95d0482e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161cafd55645730c0af4e889cdc9c8d1" id="r_a161cafd55645730c0af4e889cdc9c8d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a161cafd55645730c0af4e889cdc9c8d1">centroid</a> (self, readings)</td></tr>
<tr class="separator:a161cafd55645730c0af4e889cdc9c8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a96cad8f33b37886726a9ef851cc8e014" id="r_a96cad8f33b37886726a9ef851cc8e014"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96cad8f33b37886726a9ef851cc8e014">SENSOR_LIST</a></td></tr>
<tr class="separator:a96cad8f33b37886726a9ef851cc8e014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7539efd224683108210221739b02973a" id="r_a7539efd224683108210221739b02973a"><td class="memItemLeft" align="right" valign="top"><a id="a7539efd224683108210221739b02973a" name="a7539efd224683108210221739b02973a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>LINE_POSITION</b> = 0</td></tr>
<tr class="separator:a7539efd224683108210221739b02973a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcddb6cf84ada3cc34693f26ee73bf8" id="r_aabcddb6cf84ada3cc34693f26ee73bf8"><td class="memItemLeft" align="right" valign="top"><a id="aabcddb6cf84ada3cc34693f26ee73bf8" name="aabcddb6cf84ada3cc34693f26ee73bf8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_SENSORS</b> = 8</td></tr>
<tr class="separator:aabcddb6cf84ada3cc34693f26ee73bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3217823ad1e9ae328d595d0a524c3ef0" id="r_a3217823ad1e9ae328d595d0a524c3ef0"><td class="memItemLeft" align="right" valign="top"><a id="a3217823ad1e9ae328d595d0a524c3ef0" name="a3217823ad1e9ae328d595d0a524c3ef0"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>ALL_ON_PERCENT</b> = 0.85</td></tr>
<tr class="separator:a3217823ad1e9ae328d595d0a524c3ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a384b4d6227abec6ba9051d4f7eccd9b4" name="a384b4d6227abec6ba9051d4f7eccd9b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a384b4d6227abec6ba9051d4f7eccd9b4">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Even_pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Odd_pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Pin_list</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="class_line_sensor_1_1_line_sensor_array.html">LineSensorArray</a> object by setting up an array of line sensor object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Even_pin</td><td>Pin to control the even number line sensor array LEDs </td></tr>
    <tr><td class="paramname">Odd_pin</td><td>Pin to control the odd number line sensor array LEDs </td></tr>
    <tr><td class="paramname">Pin_List</td><td>Ordered list of the analog output pins of the line sensor array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a161cafd55645730c0af4e889cdc9c8d1" name="a161cafd55645730c0af4e889cdc9c8d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161cafd55645730c0af4e889cdc9c8d1">&#9670;&#160;</a></span>centroid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">centroid </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>readings</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculates the centroid of the readings by finding a weighted sum and dividing it by a regular sum of the readings
Returns a value between -1 and 1
@param readings: an array of modified sensor readings
</pre> 
</div>
</div>
<a id="a9f637a1988d9d38558869a5920d5d824" name="a9f637a1988d9d38558869a5920d5d824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f637a1988d9d38558869a5920d5d824">&#9670;&#160;</a></span>get_line_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_line_position </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Updates the line position using the internal update_line_position() function then returns the value
</pre> 
</div>
</div>
<a id="aac9384d4a6c42439b76f2aceb6a6ce01" name="aac9384d4a6c42439b76f2aceb6a6ce01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac9384d4a6c42439b76f2aceb6a6ce01">&#9670;&#160;</a></span>linearize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">linearize </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sensor</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">NOTE: UNUSED
Linearizes the line sensor readings based on third order approximations of their calibration data.
Not fully implemented.
</pre> 
</div>
</div>
<a id="aea18af444930d78a1d4855accab74926" name="aea18af444930d78a1d4855accab74926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea18af444930d78a1d4855accab74926">&#9670;&#160;</a></span>third_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">third_order </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">NOTE: UNUSED
Calculates the result of a third order polynomial. 
Was going to be used for more specific linearization of the line sensors but ended up being unhelpful.
</pre> 
</div>
</div>
<a id="ad54792d41f5676ee4038be95d0482e5d" name="ad54792d41f5676ee4038be95d0482e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad54792d41f5676ee4038be95d0482e5d">&#9670;&#160;</a></span>threshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threshold </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>linear_reading</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">NOTE: UNUSED
Returns a discretized and normalized version of the input linearized reading
Scale is 0 -&gt; line sensor MAX_DECAY_TIME
</pre> 
</div>
</div>
<a id="a63d63e49b7e1d2b568412e48acaf5715" name="a63d63e49b7e1d2b568412e48acaf5715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d63e49b7e1d2b568412e48acaf5715">&#9670;&#160;</a></span>threshold_linear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threshold_linear </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sensor_reading</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sensor</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a linearized and thresholded value based on calibration data
@param sensor_reading: A LineSensor reading (values from 0-MAX_DECAY_TIME)
@param sensor: the number of the sensor the reading came from. Used for specific calibration.
</pre> 
</div>
</div>
<a id="ad0565eecb5e431630081a6ed0f440abc" name="ad0565eecb5e431630081a6ed0f440abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0565eecb5e431630081a6ed0f440abc">&#9670;&#160;</a></span>update_line_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_line_position </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reads the value from all 8 LineSensor objects. 
Uses custom calibration data to linearize, threshold, and normalize the values for each LineSensor.
Creates an array with the modified LineSensor readings.
Finds the centroid of the values and returns that as a value between -1 and 1.
Negative values represent the line being to the left of the robot and Positive values represent the line being to the right.
In the case that no line is detected, outputs 0.
In the event that most of the sensors detect strongly (a horizontal line is detected), outputs 2
</pre> 
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a96cad8f33b37886726a9ef851cc8e014" name="a96cad8f33b37886726a9ef851cc8e014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96cad8f33b37886726a9ef851cc8e014">&#9670;&#160;</a></span>SENSOR_LIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list SENSOR_LIST</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  [<a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[0], Even_pin), </div>
<div class="line">                            <a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[1], Odd_pin),</div>
<div class="line">                            <a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[2], Even_pin),</div>
<div class="line">                            <a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[3], Odd_pin),</div>
<div class="line">                            <a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[4], Even_pin),</div>
<div class="line">                            <a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[5], Odd_pin),</div>
<div class="line">                            <a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[6], Even_pin),</div>
<div class="line">                            <a class="code hl_namespace" href="namespace_line_sensor.html">LineSensor</a>(Pin_list[7], Odd_pin)]</div>
<div class="ttc" id="anamespace_line_sensor_html"><div class="ttname"><a href="namespace_line_sensor.html">LineSensor</a></div><div class="ttdef"><b>Definition</b> LineSensor.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_line_sensor_8py.html">LineSensor.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>LineSensor</b></li><li class="navelem"><a class="el" href="class_line_sensor_1_1_line_sensor_array.html">LineSensorArray</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
